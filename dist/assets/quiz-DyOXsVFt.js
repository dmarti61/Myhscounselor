import{r as o,j as t,u as v}from"./index-Cj7Tuv84.js";const h=[{id:"q1",dimension:"EI",text:"At a big school event, you...",options:[{label:"Mingle with lots of people—you’re energized!",value:"E"},{label:"Stick with a few close friends and keep it chill.",value:"I"}]},{id:"q2",dimension:"EI",text:"Your weekends are best spent...",options:[{label:"Out with a bunch of people doing something fun.",value:"E"},{label:"At home, recharging with solo activities.",value:"I"}]},{id:"q3",dimension:"EI",text:"People usually say you...",options:[{label:"Are loud, open, and outgoing.",value:"E"},{label:"Are calm, reflective, or shy.",value:"I"}]},{id:"q4",dimension:"EI",text:"In a new group project, you...",options:[{label:"Jump in to lead or speak up.",value:"E"},{label:"Observe and contribute quietly.",value:"I"}]},{id:"q5",dimension:"EI",text:"You recharge your energy by...",options:[{label:"Hanging out with others.",value:"E"},{label:"Spending time alone.",value:"I"}]},{id:"q6",dimension:"SN",text:"When learning something new, you...",options:[{label:"Prefer step-by-step instructions and facts.",value:"S"},{label:"Go with your gut and think of big-picture ideas.",value:"N"}]},{id:"q7",dimension:"SN",text:"Which excites you more?",options:[{label:"Stuff that’s proven, practical, and real.",value:"S"},{label:"Theories, possibilities, and what-ifs.",value:"N"}]},{id:"q8",dimension:"SN",text:"In group work, you’re the one who...",options:[{label:"Focuses on the details and checks things twice.",value:"S"},{label:"Dreams up creative angles and connects ideas.",value:"N"}]},{id:"q9",dimension:"SN",text:"When something goes wrong, you...",options:[{label:"Look for what actually happened.",value:"S"},{label:"Try to understand the meaning behind it.",value:"N"}]},{id:"q10",dimension:"SN",text:"Your friends say your thinking is more...",options:[{label:"Logical, practical, down to earth.",value:"S"},{label:"Imaginative, abstract, “out there.”",value:"N"}]},{id:"q11",dimension:"TF",text:"When making tough choices, you tend to...",options:[{label:"Analyze pros and cons logically.",value:"T"},{label:"Go with what feels right emotionally.",value:"F"}]},{id:"q12",dimension:"TF",text:"In an argument, you’re more concerned with...",options:[{label:"Who’s factually right.",value:"T"},{label:"People’s feelings and relationships.",value:"F"}]},{id:"q13",dimension:"TF",text:"Others describe you as...",options:[{label:"Logical and objective.",value:"T"},{label:"Empathetic and caring.",value:"F"}]},{id:"q14",dimension:"TF",text:"In debates, you enjoy...",options:[{label:"Winning with solid arguments.",value:"T"},{label:"Finding common ground and fairness.",value:"F"}]},{id:"q15",dimension:"TF",text:"You’re more comfortable with decisions that are...",options:[{label:"Logical and fair.",value:"T"},{label:"Kind and caring.",value:"F"}]},{id:"q16",dimension:"JP",text:"Which describes your style more?",options:[{label:"Planner—organized and scheduled.",value:"J"},{label:"Explorer—flexible and spontaneous.",value:"P"}]},{id:"q17",dimension:"JP",text:"At school, you...",options:[{label:"Like checking off to-do lists early.",value:"J"},{label:"Finish stuff at the last minute—under pressure is best.",value:"P"}]},{id:"q18",dimension:"JP",text:"How do you feel about rules?",options:[{label:"They create structure—let’s stick to them.",value:"J"},{label:"They’re fine… but sometimes they’re made to be bent.",value:"P"}]},{id:"q19",dimension:"JP",text:"When plans change last second...",options:[{label:"That’s frustrating—why didn’t we plan?",value:"J"},{label:"Cool, let’s roll with it.",value:"P"}]},{id:"q20",dimension:"JP",text:"You prefer assignments that are...",options:[{label:"Structured with clear rubrics.",value:"J"},{label:"Open-ended with lots of creative freedom.",value:"P"}]}],y=({question:n,onAnswer:r,progress:l,totalQuestions:p,questionKey:u})=>{const[d,i]=o.useState(null);o.useEffect(()=>{i(null)},[u]);const b=(s,a)=>{i(s),a&&a.target&&a.target.blur(),r(s)};return t.jsxs("div",{className:"question-card",children:[t.jsxs("h3",{children:["Question ",l," of ",p]}),t.jsx("p",{children:n.text}),t.jsx("div",{className:"options",children:n.options.map(s=>{const a=d===s.value;return t.jsx("button",{className:`option-btn ${a?"selected":""}`,onClick:m=>b(s.value,m),disabled:!!d,"aria-label":`Answer option: ${s.label}`,children:s.label},`${n.text}-${s.value}`)})})]})},f=({currentStep:n,totalSteps:r})=>{const l=Math.round(n/r*100);return t.jsx("div",{className:"progress-container",children:t.jsx("div",{className:"progress-bar",style:{width:`${l}%`},children:t.jsxs("span",{className:"progress-label",children:[l,"%"]})})})},x=["EI","SN","TF","JP"],S=()=>{const[n,r]=o.useState(0),[l,p]=o.useState({E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0}),[u,d]=o.useState(0),i=o.useRef(null),b=v(),s=c=>{i.current&&clearTimeout(i.current),p(e=>({...e,[c]:e[c]+1})),i.current=setTimeout(()=>{if(n+1===h.length){const e=a();localStorage.setItem("mbti_result",JSON.stringify({type:e,expires:new Date().getTime()+1440*60*1e3})),b("/preferences",{state:{mbtiType:e}})}else r(e=>e+1),d(e=>e+1);i.current=null},250)},a=()=>x.map(c=>{const[e,g]=c.split("");return l[e]>=l[g]?e:g}).join(""),m=h[n];return t.jsxs("div",{children:[t.jsx(f,{currentStep:n+1,totalSteps:h.length}),t.jsx(y,{question:m,progress:n+1,totalQuestions:h.length,onAnswer:s,questionKey:u},u)]})};export{S as default};
